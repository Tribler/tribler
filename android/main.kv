<HomeScreen>
	RelativeLayout:
		id: bottomlayout
		BoxLayout:
			orientation: 'vertical'
			AnchorLayout:
				anchor_x: 'right'
				anchor_y: 'top'
				size_hint: 1,None
				height: '1cm'
				canvas:
					Color:
						rgba: 1,0.1,0.1,1
					Rectangle:
						pos: self.pos
						size: self.size
				Button:
					size_hint: None, None
					height: '1cm'
					width: '1cm'
					background_normal: 'img/but_normal.png'
					background_down: 'img/but_down.png'
					background_color: 1,1,1,0
					border:	30,30,30,30
					on_release: app.swap_to(app.SearchScr)
					BoxLayout:
						pos: self.parent.pos
						size: self.parent.size
						Image:
							source: './img/ic_search_white_48dp.png'
			ScrollView:
				anchor_x: 'center'
				anchor_y: 'center'
				StackLayout:
					size_hint: 1, None
					height: self.minimum_height
					id: fileList
					spacing: '0.1cm'
		AnchorLayout:
			anchor_x:'center'
			anchor_y:'bottom'
			Button:
				size_hint: None,None
				height: '1cm'
				width: '1cm'
				background_normal: 'img/but_normal.png'
				background_down: 'img/but_down.png'
				background_color: 0,0,0,0
				border:	30,30,30,30
				on_press: cam_icon.color = (1, 0,0,1)
				on_release:
					cam_icon.color = (1,1,1,1)
					root.startCamera()
				canvas:
					Color:
						rgba: 0,0,0,0.5
						id: col
					Ellipse:
						size: self.size
						pos: self.pos
				AnchorLayout:
					pos: self.parent.pos
					size: self.parent.size
					Image:
						source: './img/ic_videocam_white_48dp.png'
						id: cam_icon
	RelativeLayout:
		id: layer



#<HomeScreen>
#	AnchorLayout:
#		id: layer
#		ScrollView:
#			StackLayout:
#				size_hint: 1, None
#				height: self.minimum_height
#				id: fileList
#				spacing: '0.1cm'
#
#
#		AnchorLayout:
#			anchor_y: 'top'
#			orientation: 'vertical'
#			id: homescreen
#			AnchorLayout:
#				opacity: 0.5
#
#				canvas:
#					Color:
#						rgba: 0.5,0.5,0.5,1
#					Rectangle:
#						pos: self.pos
#						size: self.size
#				size_hint: 1,None
#				height: '1cm'
#				min_height: '1cm'
#				anchor_x: 'right'
#				Button:
#					size_hint: None, 1
#					width: self.height
#					on_release: root.openGearMenu()
#					background_color: 0.5,0.5,0.5,1
#					background_normal:''
#					BoxLayout:
#						pos: self.parent.pos
#						size: self.parent.size
#						Image:
#							source: './img/ic_more_vert_white_48dp.png'
#		BoxLayout:
#			anchor_y: 'bottom'
#			opacity: 0.5
#			size_hint: 1, None
#			height: '1cm'
#			Button:
#				id:button3
#				background_color: 0.5,0.5,0.5,1
#				background_normal:''
#				on_release: root.startCamera()
#			BoxLayout:
#				size: self.parent.size
#				pos: self.parent.pos
#				Image:
#					source: './img/ic_videocam_white_48dp.png'
<FileWidget>
	size_hint: 1, None
	height: '2.4cm'
	BoxLayout:
		canvas:
			Color:
				rgba: 0.2,0.2,0.2,1
			Rectangle:
				pos: self.pos
				size: self.size
		Image:
			size_hint: None, 1
			width: '1.35cm'
			id:img
		RelativeLayout:
			AnchorLayout:
				anchor_x: 'center'
				anchor_y: 'center'
				Button:
					background_color: 0.6,0.6,0.6,1
					background_normal: ''
					anchor_x: 'center'
					anchor_y: 'center'
					id: filebutton
					text: root.name
					on_release: root.pressed()
			AnchorLayout:
				anchor_x:'right'
				anchor_y:'top'
				BoxLayout:
					size_hint: None, None
					anchor_x: 'right'
					anchor_y: 'center'
					width: '0.8cm'
					height: self.width*3
					orientation:"vertical"
					id: button_layout
					ToggleButton:
						background_color: 0.6,0.6,0.6,1
						background_normal: ''
						border: 15, 15, 15, 15
						id:nfc_toggler
						on_state: root.toggle_nfc(self.state)
						BoxLayout:
							size: self.parent.size
							pos: self.parent.pos
							Image:
								source: './img/ic_tap_and_play_white_48dp.png'
					Button:
						background_color: 0.6,0.6,0.6,1
						background_normal: ''
						id: editBut
						on_release: root.share_magnet_link()
						BoxLayout:
							pos: self.parent.pos
							size: self.parent.size
							Image:
								source: 'img/ic_edit_white_48dp.png'
					Button:
						background_color: 0.6,0.6,0.6,1
						background_normal: ''
						id: eraseBut
						on_release: root.delete()
						BoxLayout:
							pos: self.parent.pos
							size: self.parent.size
							Image:
								source: 'img/ic_delete_white_48dp.png'
					Button:
						id: tdot
						text: 'G'
						on_press: root.openMenu(app.HomeScr.ids.layer)
					#ToggleButton:
					#	text: 'T'
					#	id:tribler_toggler
#	AnchorLayout:
#		size_hint: 1, 1
#		anchor_x: 'left'
#		anchor_y: 'top'
#		y: '0.5cm'
#		Button:
#			size_hint: 0.5, 0.5
#
#			text: 'test'

<FileTripleDot>
	RelativeLayout:
		Button:
			opacity: 0
			on_press: root.close()
		AnchorLayout:
			id: container
			padding: '0.2cm'
			anchor_x: 'right'
			anchor_y: 'bottom'
			BoxLayout:
				id: buttons
				on_touch_up: root.close()
				orientation:"vertical"
				size_hint: None,None
				width: '2.2cm'
				height:'4cm'
				ToggleButton:
					background_color: 1,.75,.75,1
					#background_normal: ''
					border: 15, 15, 15, 15
					id:nfc_toggler
					on_state: root.owner.toggle_nfc(self.state)
					BoxLayout:
						size: self.parent.size
						pos: self.parent.pos
						Image:
							source: './img/ic_tap_and_play_white_48dp.png'
							size_hint: None, 1
							width: '0.5cm'
						Label:
							text: 'Beam this file'
							halign: 'left'
							#text_size: self.texture_size
				Button:
					background_color: 1,.75,.75,1
					#background_normal: ''
					border: 15, 15, 15, 15
					id: seed_toggle
					on_state: root.owner.toggle_seed(self.state)
					BoxLayout:
						size: self.parent.size
						pos: self.parent.pos
						Image:
							#source: './img/ic_tap_and_play_white_48dp.png'
							size_hint: None, 1
							width: '0.5cm'
						Label:
							text: 'Seed Video'
							halign: 'left'
				Button:
					background_color: 1,.75,.75,1
					#background_normal: ''
					border: 15, 15, 15, 15
					id: share_magnet
					on_state: root.owner.share_magnet_link()
					BoxLayout:
						size: self.parent.size
						pos: self.parent.pos
						Image:
							#source: './img/ic_tap_and_play_white_48dp.png'
							size_hint: None, 1
							width: '0.5cm'
						Label:
							text: 'Share magnet'
							halign: 'left'
				Button:
					background_color: 1,.75,.75,1
					#background_normal: ''
					id: editBut
					on_release: root.owner.share_magnet_link()
					BoxLayout:
						pos: self.parent.pos
						size: self.parent.size
						Image:
							source: 'img/ic_edit_white_48dp.png'
							size_hint: None, 1
							width: '0.5cm'
						Label:
							text: 'Rename Video'
							halign: 'left'
				Button:
					background_color: 1,.75,.75,1
					#background_normal: ''
					id: eraseBut
					on_release: root.owner.delete()
					BoxLayout:
						pos: self.parent.pos
						size: self.parent.size
						Image:
							source: 'img/ic_delete_white_48dp.png'
							size_hint: None, 1
							width: '0.5cm'
						Label:
							text: 'Delete Video'
							halign: 'left'
				#share magnet
				#create torrent / seed

<SearchScreen>
	BoxLayout:
		orientation: "vertical"
		id: searchscreen
		AnchorLayout:
			canvas:
				Color:
					rgba: 0.5,0.5,0.5,1
				Rectangle:
					pos: self.pos
					size: self.size
				BorderImage:
					pos: self.pos
					size: self.size
					border: 1,1,1,1
			size_hint: 1,None
			height: '1cm'
			min_height: '1cm'
			TextInput:
				id: searchfield
				size_hint: 1, None
				height: '0.7cm'
				font_size: "16sp"
				multiline: False
				hint_text: "Search"
				keyboard_suggestions: True
				valign: 'middle'
				on_text: root.on_txt_input()
		ScrollView:
			StackLayout:
				size_hint: 1, None
				height: self.minimum_height
				id: fileList

				Button:
					text: 'Start camera'
					on_release: camera.start()
				Button:
					text: 'Stop camera'
					on_release: camera.stop()

<CamScreen>
	BoxLayout:
		orientation: 'vertical'
		id: camScreen
		AnchorLayout:
			align_x: 'center'
			align_y: 'center'
			size_hint: 1,1
			id: anchor
			Image:
				source:''
				opacity: 0
			CameraWidget:
				id: camera
		BoxLayout:
			size_hint_y: None
			height: '1cm'
			Button:
				background_color: 0.5,0.5,0.5,1
				background_normal:''
				text: ''
				on_release: app.goBack()
				BoxLayout:
					pos: self.parent.pos
					size: self.parent.size
					Image:
						source: 'img/ic_videocam_off_white_48dp.png'

<VideoScreen>
	VideoPlayer:
		id: videoPlay

<GearMenu>
	RelativeLayout:
		Button:
			opacity: 0
			on_press: root.screen.ids.layer.remove_widget(root)
		AnchorLayout:
			padding: '0.2cm'
			anchor_x: 'right'
			anchor_y: 'top'
			BoxLayout:
				on_touch_up: root.screen.ids.layer.remove_widget(root)
				orientation:"vertical"
				size_hint: None,None
				width: '2cm'
				height:'3cm'
				Button:
					text:'Test'
					on_release:root.screen.AndroidTest()
				Button:
					text: "Download"
					on_release: app.swap_to(app.SearchScr)
					background: None
				Button:
					text: 'Add Video'
					on_release: root.screen.addVideo()
				Button:
					text:'Cam Test'
					on_release:app.swap_to(app.CamScr)
				orientation:"vertical"
				size_hint: None,None
				width: '2cm'
				height:'3cm'
				Button:
					text:'Test'
					on_release:root.screen.AndroidTest()
				Button:
					text: "Download"
					on_release: app.swap_to(app.SearchScr)
					background: None
				Button:
					text: 'Add Video'
					on_release: root.screen.addVideo()
				Button:
					text:'Cam Test'
					on_release:app.swap_to(app.CamScr)

<TorrentWidget>
	canvas:
		Color:
			rgba: 0.2,0.2,0.2,1
		Rectangle:
			pos: self.pos
			size: self.size
	size_hint: 1, None
	height: '2.4cm'
	RelativeLayout:
		AnchorLayout:
			anchor_x: 'center'
			anchor_y: 'center'
			Button:
				background_color: 0.6,0.6,0.6,1
				background_normal: ''
				anchor_x: 'center'
				anchor_y: 'center'
				id: filebutton
				text: root.name
				text_size: self.size
				on_release: root.on_press()

<TorrentInfoScreen>
	BoxLayout:
		orientation: "vertical"
		id: torrentinfoscreen
		anchor_x: 'left'
		anchor_y: 'center'
		Label:
			id:name_label
			text_size: self.size
			color:0,0,0.8,1
		Label:
			id:type_label
			text_size: self.size
			color:0,0,0.8,1
		Label:
			id:file_size_label
			text_size: self.size
			color:0,0,0.8,1
		Label:
			id:seeders_label
			text_size: self.size
			color:0,0,0.8,1
		Label:
			id:leechers_label
			text_size: self.size
			color:0,0,0.8,1
		Button:
			text:'Play'
			on_release: root.start_stream()
			background_color: 0.5,0.5,0.5,1
			background_normal:''
		Button:
			text:'Download'
			on_release: root.start_download()
			background_color: 0.5,0.5,0.5,1
			background_normal:''
